<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas
	xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%"
	implements="mx.core.IDataRenderer,mx.controls.listClasses.IDropInListItemRenderer"
	horizontalScrollPolicy="off">

<mx:Script>
<![CDATA[
	import mx.formatters.Formatter;
	import mx.controls.dataGridClasses.DataGridListData;
	import mx.controls.listClasses.BaseListData;
	//embed images
	[Embed(source="bullet_delete.png")]
    public var imgTrashOpen:Class;
    [Embed(source="bullet_delete_disabled.png")]
    public var imgTrashClosed:Class;
    
    public var removeItemFunction:Function;
    public var formatter:Formatter;
    
    [Bindable] private var column_name:String = "";
	private var _listData:BaseListData;
	public function get listData():BaseListData {
  		return _listData;
	}
	public function set listData(value:BaseListData):void {
  		_listData = value;
  		column_name = (_listData as DataGridListData).dataField;
	}
    override protected function updateDisplayList(unscaledWidth:Number,unscaledHeight:Number):void {
		super.updateDisplayList(unscaledWidth, unscaledHeight);
		trash_img.source = imgTrashClosed;
		column_text.text = formatter ? formatter.format(data[column_name]) : data[column_name];
	}

    private function swapTrashIcon(open:Boolean):void {
        if (open) {
            trash_img.source = imgTrashOpen;
        } else {
            trash_img.source = imgTrashClosed;
        }
    }
]]>
</mx:Script>

<!-- delete image/button -->
    <mx:Image id="trash_img" 
                click="removeItemFunction(event, _listData.rowIndex)"
                width="16" 
                height="16"  
                verticalCenter="0" 
                right="0" 
                toolTip="Изтрий реда" 
                mouseOver="swapTrashIcon(true);" 
                mouseOut="swapTrashIcon(false);" 
                buttonMode="true" 
                useHandCursor="true" />
                
	<mx:Label id="column_text" right="15" verticalCenter="0" textAlign="right"/>
</mx:Canvas>