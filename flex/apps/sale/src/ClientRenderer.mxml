<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	width="100%" height="100%" updateComplete="handleUpdate()"
	verticalScrollPolicy="off" horizontalScrollPolicy="off">
	<mx:Script>
		<![CDATA[
			import mx.collections.ArrayCollection;
			import mx.events.FlexEvent;
			import mx.controls.List;
			
			[Bindable]
			private var _list:List;
			
			override public function set data( value:Object ):void
			{
				super.data = value;
				
				if (!value) {
					return;
				}
				
				_list = owner as List;
				
				mainInfo.htmlText = _list.labelFunction( value );
				
				/*
				id
    			name
    			address
    			invoice_ein
    			invoice_ein_dds
    			invoice_mol
    			*/
    			var secInfo:String = '';
    			switch(this.parentDocument.parent.labelField){
    				case 'name':
    					secInfo = 'адрес: '+data.address;
    					break;
//    				case 'address':
//    					secInfo = 'име: '+data.name;
//    					break;
    				case 'invoice_ein':
    					secInfo = data.name;
    					break;
    				case 'invoice_ein_dds':
    					secInfo = data.name;
    					break;
//    				case 'invoice_mol':
//    					secInfo = 'име: '+data.name;
//    					break;
    				default:
    					secInfo = 'име: '+data.name;
    			}
				secondInfo.text = secInfo;
				/*
				hexLabel.htmlText = "Hex: " + value.hex;								
				colorBox.setStyle( "backgroundColor", value.hex );
				
				if (_selectedItems && _selectedItems.getItemIndex( value ) >= 0) {
					this.setStyle( "color", Consts.COLOR_TEXT_DISABLED );
				} else {
					this.clearStyle( "color" );
				}
				*/
			}
			
			private function handleUpdate():void
			{
				// There must be a better way to draw a line between each 
				// of the items in the list
				graphics.clear();
				graphics.lineStyle( 1, 0x858585, 0.5 );
				graphics.moveTo( -2, height + 2);
				graphics.lineTo( width, height + 2 );
			}			
			
		]]>
	</mx:Script>
	
	<mx:VBox verticalGap="0" width="100%">
		<mx:Label id="mainInfo" fontSize="12" width="90%"/>
		<mx:Label id="secondInfo" fontSize="10" width="90%"/>	
	</mx:VBox>
		
</mx:Canvas>
